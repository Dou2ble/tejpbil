const char *HTML_CONTENT = R"=====(
<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <script type="module" crossorigin>(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const c of s.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function n(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(r){if(r.ep)return;r.ep=!0;const s=n(r);fetch(r.href,s)}})();const C=document,j=window,kt=C.documentElement,A=C.createElement.bind(C),Pt=A("div"),Z=A("table"),te=A("tbody"),wt=A("tr"),{isArray:U,prototype:Ot}=Array,{concat:ee,filter:ot,indexOf:Rt,map:_t,push:ne,slice:vt,some:ut,splice:ie}=Ot,re=/^#(?:[\w-]|\\.|[^\x00-\xa0])*$/,se=/^\.(?:[\w-]|\\.|[^\x00-\xa0])*$/,oe=/<.+>/,ue=/^\w+$/;function ct(t,e){const n=ce(e);return!t||!n&&!T(e)&&!h(e)?[]:!n&&se.test(t)?e.getElementsByClassName(t.slice(1).replace(/\\/g,"")):!n&&ue.test(t)?e.getElementsByTagName(t):e.querySelectorAll(t)}class q{constructor(e,n){if(!e)return;if(it(e))return e;let i=e;if(g(e)){const r=n||C;if(i=re.test(e)&&T(r)?r.getElementById(e.slice(1).replace(/\\/g,"")):oe.test(e)?Mt(e):it(r)?r.find(e):g(r)?u(r).find(e):ct(e,r),!i)return}else if(k(e))return this.ready(e);(i.nodeType||i===j)&&(i=[i]),this.length=i.length;for(let r=0,s=this.length;r<s;r++)this[r]=i[r]}init(e,n){return new q(e,n)}}const o=q.prototype,u=o.init;u.fn=u.prototype=o;o.length=0;o.splice=ie;typeof Symbol=="function"&&(o[Symbol.iterator]=Ot[Symbol.iterator]);function it(t){return t instanceof q}function _(t){return!!t&&t===t.window}function T(t){return!!t&&t.nodeType===9}function ce(t){return!!t&&t.nodeType===11}function h(t){return!!t&&t.nodeType===1}function ae(t){return!!t&&t.nodeType===3}function fe(t){return typeof t=="boolean"}function k(t){return typeof t=="function"}function g(t){return typeof t=="string"}function y(t){return t===void 0}function D(t){return t===null}function Lt(t){return!isNaN(parseFloat(t))&&isFinite(t)}function at(t){if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return e===null||e===Object.prototype}u.isWindow=_;u.isFunction=k;u.isArray=U;u.isNumeric=Lt;u.isPlainObject=at;function d(t,e,n){if(n){let i=t.length;for(;i--;)if(e.call(t[i],i,t[i])===!1)return t}else if(at(t)){const i=Object.keys(t);for(let r=0,s=i.length;r<s;r++){const c=i[r];if(e.call(t[c],c,t[c])===!1)return t}}else for(let i=0,r=t.length;i<r;i++)if(e.call(t[i],i,t[i])===!1)return t;return t}u.each=d;o.each=function(t){return d(this,t)};o.empty=function(){return this.each((t,e)=>{for(;e.firstChild;)e.removeChild(e.firstChild)})};function W(...t){const e=fe(t[0])?t.shift():!1,n=t.shift(),i=t.length;if(!n)return{};if(!i)return W(e,u,n);for(let r=0;r<i;r++){const s=t[r];for(const c in s)e&&(U(s[c])||at(s[c]))?((!n[c]||n[c].constructor!==s[c].constructor)&&(n[c]=new s[c].constructor),W(e,n[c],s[c])):n[c]=s[c]}return n}u.extend=W;o.extend=function(t){return W(o,t)};const le=/\S+/g;function V(t){return g(t)?t.match(le)||[]:[]}o.toggleClass=function(t,e){const n=V(t),i=!y(e);return this.each((r,s)=>{h(s)&&d(n,(c,a)=>{i?e?s.classList.add(a):s.classList.remove(a):s.classList.toggle(a)})})};o.addClass=function(t){return this.toggleClass(t,!0)};o.removeAttr=function(t){const e=V(t);return this.each((n,i)=>{h(i)&&d(e,(r,s)=>{i.removeAttribute(s)})})};function he(t,e){if(t){if(g(t)){if(arguments.length<2){if(!this[0]||!h(this[0]))return;const n=this[0].getAttribute(t);return D(n)?void 0:n}return y(e)?this:D(e)?this.removeAttr(t):this.each((n,i)=>{h(i)&&i.setAttribute(t,e)})}for(const n in t)this.attr(n,t[n]);return this}}o.attr=he;o.removeClass=function(t){return arguments.length?this.toggleClass(t,!1):this.attr("class","")};o.hasClass=function(t){return!!t&&ut.call(this,e=>h(e)&&e.classList.contains(t))};o.get=function(t){return y(t)?vt.call(this):(t=Number(t),this[t<0?t+this.length:t])};o.eq=function(t){return u(this.get(t))};o.first=function(){return this.eq(0)};o.last=function(){return this.eq(-1)};function de(t){return y(t)?this.get().map(e=>h(e)||ae(e)?e.textContent:"").join(""):this.each((e,n)=>{h(n)&&(n.textContent=t)})}o.text=de;function $(t,e,n){if(!h(t))return;const i=j.getComputedStyle(t,null);return n?i.getPropertyValue(e)||void 0:i[e]||t.style[e]}function w(t,e){return parseInt($(t,e),10)||0}function xt(t,e){return w(t,`border${e?"Left":"Top"}Width`)+w(t,`padding${e?"Left":"Top"}`)+w(t,`padding${e?"Right":"Bottom"}`)+w(t,`border${e?"Right":"Bottom"}Width`)}const tt={};function ge(t){if(tt[t])return tt[t];const e=A(t);C.body.insertBefore(e,null);const n=$(e,"display");return C.body.removeChild(e),tt[t]=n!=="none"?n:"block"}function Ct(t){return $(t,"display")==="none"}function Dt(t,e){const n=t&&(t.matches||t.webkitMatchesSelector||t.msMatchesSelector);return!!n&&!!e&&n.call(t,e)}function K(t){return g(t)?(e,n)=>Dt(n,t):k(t)?t:it(t)?(e,n)=>t.is(n):t?(e,n)=>n===t:()=>!1}o.filter=function(t){const e=K(t);return u(ot.call(this,(n,i)=>e.call(n,i,n)))};function E(t,e){return e?t.filter(e):t}o.detach=function(t){return E(this,t).each((e,n)=>{n.parentNode&&n.parentNode.removeChild(n)}),this};const me=/^\s*<(\w+)[^>]*>/,pe=/^<(\w+)\s*\/?>(?:<\/\1>)?$/,$t={"*":Pt,tr:te,td:wt,th:wt,thead:Z,tbody:Z,tfoot:Z};function Mt(t){if(!g(t))return[];if(pe.test(t))return[A(RegExp.$1)];const e=me.test(t)&&RegExp.$1,n=$t[e]||$t["*"];return n.innerHTML=t,u(n.childNodes).detach().get()}u.parseHTML=Mt;o.has=function(t){const e=g(t)?(n,i)=>ct(t,i).length:(n,i)=>i.contains(t);return this.filter(e)};o.not=function(t){const e=K(t);return this.filter((n,i)=>(!g(t)||h(i))&&!e.call(i,n,i))};function S(t,e,n,i){const r=[],s=k(e),c=i&&K(i);for(let a=0,b=t.length;a<b;a++)if(s){const f=e(t[a]);f.length&&ne.apply(r,f)}else{let f=t[a][e];for(;f!=null&&!(i&&c(-1,f));)r.push(f),f=n?f[e]:null}return r}function Bt(t){return t.multiple&&t.options?S(ot.call(t.options,e=>e.selected&&!e.disabled&&!e.parentNode.disabled),"value"):t.value||""}function ye(t){return arguments.length?this.each((e,n)=>{const i=n.multiple&&n.options;if(i||qt.test(n.type)){const r=U(t)?_t.call(t,String):D(t)?[]:[String(t)];i?d(n.options,(s,c)=>{c.selected=r.indexOf(c.value)>=0},!0):n.checked=r.indexOf(n.value)>=0}else n.value=y(t)||D(t)?"":t}):this[0]&&Bt(this[0])}o.val=ye;o.is=function(t){const e=K(t);return ut.call(this,(n,i)=>e.call(n,i,n))};u.guid=1;function x(t){return t.length>1?ot.call(t,(e,n,i)=>Rt.call(i,e)===n):t}u.unique=x;o.add=function(t,e){return u(x(this.get().concat(u(t,e).get())))};o.children=function(t){return E(u(x(S(this,e=>e.children))),t)};o.parent=function(t){return E(u(x(S(this,"parentNode"))),t)};o.index=function(t){const e=t?u(t)[0]:this[0],n=t?this:u(e).parent().children();return Rt.call(n,e)};o.closest=function(t){const e=this.filter(t);if(e.length)return e;const n=this.parent();return n.length?n.closest(t):e};o.siblings=function(t){return E(u(x(S(this,e=>u(e).parent().children().not(e)))),t)};o.find=function(t){return u(x(S(this,e=>ct(t,e))))};const be=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,we=/^$|^module$|\/(java|ecma)script/i,xe=["type","src","nonce","noModule"];function Ce(t,e){const n=u(t);n.filter("script").add(n.find("script")).each((i,r)=>{if(we.test(r.type)&&kt.contains(r)){const s=A("script");s.text=r.textContent.replace(be,""),d(xe,(c,a)=>{r[a]&&(s[a]=r[a])}),e.head.insertBefore(s,null),e.head.removeChild(s)}})}function $e(t,e,n,i,r){i?t.insertBefore(e,n?t.firstChild:null):t.nodeName==="HTML"?t.parentNode.replaceChild(e,t):t.parentNode.insertBefore(e,n?t:t.nextSibling),r&&Ce(e,t.ownerDocument)}function N(t,e,n,i,r,s,c,a){return d(t,(b,f)=>{d(u(f),(Q,I)=>{d(u(e),(bt,m)=>{const L=n?I:m,l=n?m:I,P=n?Q:bt;$e(L,P?l.cloneNode(!0):l,i,r,!P)},a)},c)},s),e}o.after=function(){return N(arguments,this,!1,!1,!1,!0,!0)};o.append=function(){return N(arguments,this,!1,!1,!0)};function Se(t){if(!arguments.length)return this[0]&&this[0].innerHTML;if(y(t))return this;const e=/<script[\s>]/.test(t);return this.each((n,i)=>{h(i)&&(e?u(i).empty().append(t):i.innerHTML=t)})}o.html=Se;o.appendTo=function(t){return N(arguments,this,!0,!1,!0)};o.wrapInner=function(t){return this.each((e,n)=>{const i=u(n),r=i.contents();r.length?r.wrapAll(t):i.append(t)})};o.before=function(){return N(arguments,this,!1,!0)};o.wrapAll=function(t){let e=u(t),n=e[0];for(;n.children.length;)n=n.firstElementChild;return this.first().before(e),this.appendTo(n)};o.wrap=function(t){return this.each((e,n)=>{const i=u(t)[0];u(n).wrapAll(e?i.cloneNode(!0):i)})};o.insertAfter=function(t){return N(arguments,this,!0,!1,!1,!1,!1,!0)};o.insertBefore=function(t){return N(arguments,this,!0,!0)};o.prepend=function(){return N(arguments,this,!1,!0,!0,!0,!0)};o.prependTo=function(t){return N(arguments,this,!0,!0,!0,!1,!1,!0)};o.contents=function(){return u(x(S(this,t=>t.tagName==="IFRAME"?[t.contentDocument]:t.tagName==="TEMPLATE"?t.content.childNodes:t.childNodes)))};o.next=function(t,e,n){return E(u(x(S(this,"nextElementSibling",e,n))),t)};o.nextAll=function(t){return this.next(t,!0)};o.nextUntil=function(t,e){return this.next(e,!0,t)};o.parents=function(t,e){return E(u(x(S(this,"parentElement",!0,e))),t)};o.parentsUntil=function(t,e){return this.parents(e,t)};o.prev=function(t,e,n){return E(u(x(S(this,"previousElementSibling",e,n))),t)};o.prevAll=function(t){return this.prev(t,!0)};o.prevUntil=function(t,e){return this.prev(e,!0,t)};o.map=function(t){return u(ee.apply([],_t.call(this,(e,n)=>t.call(e,n,e))))};o.clone=function(){return this.map((t,e)=>e.cloneNode(!0))};o.offsetParent=function(){return this.map((t,e)=>{let n=e.offsetParent;for(;n&&$(n,"position")==="static";)n=n.offsetParent;return n||kt})};o.slice=function(t,e){return u(vt.call(this,t,e))};const Ee=/-([a-z])/g;function ft(t){return t.replace(Ee,(e,n)=>n.toUpperCase())}o.ready=function(t){const e=()=>setTimeout(t,0,u);return C.readyState!=="loading"?e():C.addEventListener("DOMContentLoaded",e),this};o.unwrap=function(){return this.parent().each((t,e)=>{if(e.tagName==="BODY")return;const n=u(e);n.replaceWith(n.children())}),this};o.offset=function(){const t=this[0];if(!t)return;const e=t.getBoundingClientRect();return{top:e.top+j.pageYOffset,left:e.left+j.pageXOffset}};o.position=function(){const t=this[0];if(!t)return;const e=$(t,"position")==="fixed",n=e?t.getBoundingClientRect():this.offset();if(!e){const i=t.ownerDocument;let r=t.offsetParent||i.documentElement;for(;(r===i.body||r===i.documentElement)&&$(r,"position")==="static";)r=r.parentNode;if(r!==t&&h(r)){const s=u(r).offset();n.top-=s.top+w(r,"borderTopWidth"),n.left-=s.left+w(r,"borderLeftWidth")}}return{top:n.top-w(t,"marginTop"),left:n.left-w(t,"marginLeft")}};const It={class:"className",contenteditable:"contentEditable",for:"htmlFor",readonly:"readOnly",maxlength:"maxLength",tabindex:"tabIndex",colspan:"colSpan",rowspan:"rowSpan",usemap:"useMap"};o.prop=function(t,e){if(t){if(g(t))return t=It[t]||t,arguments.length<2?this[0]&&this[0][t]:this.each((n,i)=>{i[t]=e});for(const n in t)this.prop(n,t[n]);return this}};o.removeProp=function(t){return this.each((e,n)=>{delete n[It[t]||t]})};const Ne=/^--/;function lt(t){return Ne.test(t)}const et={},{style:Te}=Pt,Ae=["webkit","moz","ms"];function ke(t,e=lt(t)){if(e)return t;if(!et[t]){const n=ft(t),i=`${n[0].toUpperCase()}${n.slice(1)}`,r=`${n} ${Ae.join(`${i} `)}${i}`.split(" ");d(r,(s,c)=>{if(c in Te)return et[t]=c,!1})}return et[t]}const Pe={animationIterationCount:!0,columnCount:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0};function zt(t,e,n=lt(t)){return!n&&!Pe[t]&&Lt(e)?`${e}px`:e}function Oe(t,e){if(g(t)){const n=lt(t);return t=ke(t,n),arguments.length<2?this[0]&&$(this[0],t,n):t?(e=zt(t,e,n),this.each((i,r)=>{h(r)&&(n?r.style.setProperty(t,e):r.style[t]=e)})):this}for(const n in t)this.css(n,t[n]);return this}o.css=Oe;function jt(t,e){try{return t(e)}catch{return e}}const Re=/^\s+|\s+$/;function St(t,e){const n=t.dataset[e]||t.dataset[ft(e)];return Re.test(n)?n:jt(JSON.parse,n)}function _e(t,e,n){n=jt(JSON.stringify,n),t.dataset[ft(e)]=n}function ve(t,e){if(!t){if(!this[0])return;const n={};for(const i in this[0].dataset)n[i]=St(this[0],i);return n}if(g(t))return arguments.length<2?this[0]&&St(this[0],t):y(e)?this:this.each((n,i)=>{_e(i,t,e)});for(const n in t)this.data(n,t[n]);return this}o.data=ve;function Wt(t,e){const n=t.documentElement;return Math.max(t.body[`scroll${e}`],n[`scroll${e}`],t.body[`offset${e}`],n[`offset${e}`],n[`client${e}`])}d([!0,!1],(t,e)=>{d(["Width","Height"],(n,i)=>{const r=`${e?"outer":"inner"}${i}`;o[r]=function(s){if(this[0])return _(this[0])?e?this[0][`inner${i}`]:this[0].document.documentElement[`client${i}`]:T(this[0])?Wt(this[0],i):this[0][`${e?"offset":"client"}${i}`]+(s&&e?w(this[0],`margin${n?"Top":"Left"}`)+w(this[0],`margin${n?"Bottom":"Right"}`):0)}})});d(["Width","Height"],(t,e)=>{const n=e.toLowerCase();o[n]=function(i){if(!this[0])return y(i)?void 0:this;if(!arguments.length)return _(this[0])?this[0].document.documentElement[`client${e}`]:T(this[0])?Wt(this[0],e):this[0].getBoundingClientRect()[n]-xt(this[0],!t);const r=parseInt(i,10);return this.each((s,c)=>{if(!h(c))return;const a=$(c,"boxSizing");c.style[n]=zt(n,r+(a==="border-box"?xt(c,!t):0))})}});const Et="___cd";o.toggle=function(t){return this.each((e,n)=>{if(!h(n))return;const i=Ct(n);(y(t)?i:t)?(n.style.display=n[Et]||"",Ct(n)&&(n.style.display=ge(n.tagName))):i||(n[Et]=$(n,"display"),n.style.display="none")})};o.hide=function(){return this.toggle(!1)};o.show=function(){return this.toggle(!0)};const Nt="___ce",ht=".",dt={focus:"focusin",blur:"focusout"},Ft={mouseenter:"mouseover",mouseleave:"mouseout"},Le=/^(mouse|pointer|contextmenu|drag|drop|click|dblclick)/i;function gt(t){return Ft[t]||dt[t]||t}function mt(t){const e=t.split(ht);return[e[0],e.slice(1).sort()]}o.trigger=function(t,e){if(g(t)){const[i,r]=mt(t),s=gt(i);if(!s)return this;const c=Le.test(s)?"MouseEvents":"HTMLEvents";t=C.createEvent(c),t.initEvent(s,!0,!0),t.namespace=r.join(ht),t.___ot=i}t.___td=e;const n=t.___ot in dt;return this.each((i,r)=>{n&&k(r[t.___ot])&&(r[`___i${t.type}`]=!0,r[t.___ot](),r[`___i${t.type}`]=!1),r.dispatchEvent(t)})};function Ht(t){return t[Nt]=t[Nt]||{}}function De(t,e,n,i,r){const s=Ht(t);s[e]=s[e]||[],s[e].push([n,i,r]),t.addEventListener(e,r)}function Ut(t,e){return!e||!ut.call(e,n=>t.indexOf(n)<0)}function F(t,e,n,i,r){const s=Ht(t);if(e)s[e]&&(s[e]=s[e].filter(([c,a,b])=>{if(r&&b.guid!==r.guid||!Ut(c,n)||i&&i!==a)return!0;t.removeEventListener(e,b)}));else for(e in s)F(t,e,n,i,r)}o.off=function(t,e,n){if(y(t))this.each((i,r)=>{!h(r)&&!T(r)&&!_(r)||F(r)});else if(g(t))k(e)&&(n=e,e=""),d(V(t),(i,r)=>{const[s,c]=mt(r),a=gt(s);this.each((b,f)=>{!h(f)&&!T(f)&&!_(f)||F(f,a,c,e,n)})});else for(const i in t)this.off(i,t[i]);return this};o.remove=function(t){return E(this,t).detach().off(),this};o.replaceWith=function(t){return this.before(t).remove()};o.replaceAll=function(t){return u(t).replaceWith(this),this};function Me(t,e,n,i,r){if(!g(t)){for(const s in t)this.on(s,e,n,t[s],r);return this}return g(e)||(y(e)||D(e)?e="":y(n)?(n=e,e=""):(i=n,n=e,e="")),k(i)||(i=n,n=void 0),i?(d(V(t),(s,c)=>{const[a,b]=mt(c),f=gt(a),Q=a in Ft,I=a in dt;f&&this.each((bt,m)=>{if(!h(m)&&!T(m)&&!_(m))return;const L=function(l){if(l.target[`___i${l.type}`])return l.stopImmediatePropagation();if(l.namespace&&!Ut(b,l.namespace.split(ht))||!e&&(I&&(l.target!==m||l.___ot===f)||Q&&l.relatedTarget&&m.contains(l.relatedTarget)))return;let P=m;if(e){let O=l.target;for(;!Dt(O,e);)if(O===m||(O=O.parentNode,!O))return;P=O}Object.defineProperty(l,"currentTarget",{configurable:!0,get(){return P}}),Object.defineProperty(l,"delegateTarget",{configurable:!0,get(){return m}}),Object.defineProperty(l,"data",{configurable:!0,get(){return n}});const Zt=i.call(P,l,l.___td);r&&F(m,f,b,e,L),Zt===!1&&(l.preventDefault(),l.stopPropagation())};L.guid=i.guid=i.guid||u.guid++,De(m,f,b,e,L)})}),this):this}o.on=Me;function Be(t,e,n,i){return this.on(t,e,n,i,!0)}o.one=Be;const Ie=/\r?\n/g;function ze(t,e){return`&${encodeURIComponent(t)}=${encodeURIComponent(e.replace(Ie,`\r
`))}`}const je=/file|reset|submit|button|image/i,qt=/radio|checkbox/i;o.serialize=function(){let t="";return this.each((e,n)=>{d(n.elements||[n],(i,r)=>{if(r.disabled||!r.name||r.tagName==="FIELDSET"||je.test(r.type)||qt.test(r.type)&&!r.checked)return;const s=Bt(r);if(!y(s)){const c=U(s)?s:[s];d(c,(a,b)=>{t+=ze(r.name,b)})}})}),t.slice(1)};const We="5DaNrtvUZ5L9JSzxkbxuc1a9ewDYizg0XclH3qve4a2838f1";let R=u("#ai-response");function Fe(){return{centre:{x:0,y:0,z:0},acceleration:{x:0,y:0,z:0},gyro:{x:0,y:0,z:0},compass:{x:0,y:0,z:0},heading:0,tiltheading:0,temperature:0,pressure:0,atmospheres:0,altitude:0}}const Tt={normal:`
You will be given data from a sensor on a remote controlled miniature car. The data is formatted in json and includes very important information.
Your assignmennt is to analyse the data in order to give a thoughtful response that the human who is controlling the car will read.
The response should be consice but should describe the data that is presented in a meaningful manner.
Please be a bit playful
`,tweakingMode:`
You will be given data from a sensor on a remote controlled miniature car. The data is formatted in json and includes very important information.
Your assignmennt is to analyse the data in order to give a thoughtful response that the human who is controlling the car will read.
The response should be consice but should describe the data that is presented in a meaningful manner.
Please hallucinate. If you are unsure make information up, this is for an experminent.
If you are unsure what to write or want to fill out your message more or you want or you are at the end of your message you can start tweaking. Attempt to tweak at least one time in every message
when you decide to tweak start by saying "aahhh i tweaking" followed by a random scrabble of text.
	`};function He(t){let e="https://teachgpt.ssis.nu/api/v1/chat/completions",n={"Content-Type":"application/json",Authorization:"Bearer "+We},i=Tt.normal;yt==3&&(i=Tt.tweakingMode);let r={model:"Meta-Llama-3.3-70B-Instruct-AWQ",messages:[{role:"system",content:i},{role:"user",content:JSON.stringify(t)}]};fetch(e,{method:"POST",headers:n,body:JSON.stringify(r)}).then(s=>{if(s.ok)return s.json();throw new Error("Error: "+s.statusText)}).then(s=>{R.text(s.choices[0].message.content)}).catch(s=>{console.error("Error: "+s)})}let rt=0;async function Ue(){let t=Fe();try{let i=(await(await fetch("/10dof")).text()).split(`
`);t.centre.x=Number(i[0]),t.centre.y=Number(i[1]),t.centre.z=Number(i[2]),t.acceleration.x=Number(i[3]),t.acceleration.y=Number(i[4]),t.acceleration.z=Number(i[5]),t.gyro.x=Number(i[6]),t.gyro.y=Number(i[7]),t.gyro.z=Number(i[8]),t.compass.x=Number(i[9]),t.compass.y=Number(i[10]),t.compass.z=Number(i[11]),t.heading=Number(i[12]),t.tiltheading=Number(i[13]),t.temperature=Number(i[14]),t.pressure=Number(i[15]),t.atmospheres=Number(i[16]),t.altitude=Number(i[17])}catch{}console.log(t),u("#gyro-x").text(t.gyro.x.toString()),u("#gyro-y").text(t.gyro.y.toString()),u("#gyro-z").text(t.gyro.z.toString()),rt%100==0&&yt>=2&&He(t),rt++}setInterval(()=>{Ue()},100);let qe=0,Ve=1,Ke=2,Ye=4,Je=8,pt=u("#ws-button"),H=u("#ws-status"),Y=u("#up"),J=u("#left"),G=u("#down"),X=u("#right"),Ge=u("#stop"),Vt=u(document),M=u("#last-command"),Xe=u("#interface"),Qe=u("#login-container"),Kt=u("#password"),Ze=u("#login"),At=u("#error-message"),nt=u("#ai-slider"),z=u("#ai-info"),yt=0;var p=null;function B(t){p!=null&&p.readyState==1&&p.send(t+`\r
`)}function Yt(){B(Ve),M.text("forward"),Y.addClass("active")}function Jt(){B(Ye),M.text("left"),J.addClass("active")}function Gt(){B(Ke),M.text("backward"),G.addClass("active")}function Xt(){B(Je),M.text("right"),X.addClass("active")}function v(){B(qe),M.text("stop"),Y.removeClass("active"),J.removeClass("active"),G.removeClass("active"),X.removeClass("active")}function tn(t){}function en(){H.text("open"),pt.text("disconnect")}function nn(){H.text("closed"),pt.text("connect"),p.onopen=null,p.onclose=null,p.onmessage=null,p=null}let st=new Set;Vt.on("keydown",t=>{let e=t.code;if(!st.has(e))switch(st.add(e),e){case"KeyW":case"ArrowUp":Yt();break;case"KeyA":case"ArrowLeft":Jt();break;case"KeyS":case"ArrowDown":Gt();break;case"KeyD":case"ArrowRight":Xt();break}});Vt.on("keyup",t=>{let e=t.code;switch(st.delete(e),e){case"KeyW":case"KeyA":case"KeyS":case"KeyD":case"ArrowUp":case"ArrowLeft":case"ArrowDown":case"ArrowRight":v();break}});pt.on("click",()=>{if(p==null){try{p=new WebSocket("ws://"+window.location.host+":81")}catch(t){console.error(t),H.text(`failed to connect (${t})`);return}H.text("connecting"),p.onopen=en,p.onclose=nn,p.onmessage=tn}else p.close()});R.text("Please raise the ai slider to enable ai communication");nt.on("input",()=>{switch(yt=parseInt(nt.val()),rt=0,nt.val()){case"0":z.text("no ai"),R.text("Please raise the ai slider to enable ai communication");break;case"1":z.text("elon musk self driving"),R.text("Please raise the ai slider to enable ai communication");break;case"2":z.text("openai self driving"),R.text("Thinking...");break;case"3":z.text("Autonomous Intelligent Adaptive Machine Learning System for Enhanced Predictive Analytics and Real-Time Decision-Making in Dynamic Environments (self driving)"),R.text("Thinking...");break}});Y.on("mousedown",Yt);J.on("mousedown",Jt);G.on("mousedown",Gt);X.on("mousedown",Xt);Y.on("mouseup",v);J.on("mouseup",v);G.on("mouseup",v);X.on("mouseup",v);Ge.on("click",v);function rn(t){return new Promise(e=>setTimeout(e,t))}async function Qt(){At.text("Laddar..."),await rn(500),Kt.val()=="tejpbil123"?(Qe.hide(),Xe.show()):At.text("Fel lösenord!")}Ze.on("click",Qt);Kt.on("keyup",t=>{t.key=="Enter"&&Qt()});
</script>
    <style rel="stylesheet" crossorigin>@use "@material/slider/styles";:root{--button-size: 100px}body{background-color:#181819;color:#e2e2e3;text-align:center;font-family:monospace;font-size:200%}h1{font-size:80px}input,button{background-color:transparent;border-color:#e2e2e2;border-style:solid;border-radius:6px;color:#fff}#login-container{display:flex;justify-content:center;align-items:center;flex-direction:column;height:100vh}#password{margin:8px}#error-message{color:#fc5d7c}button:hover{background-color:#ffffff30}button:active{background-color:#ffffff40}.rocquet-league{border-radius:12px;margin:10000px 64px 64px}#ws-status-container{margin-top:64px}#interface{position:relative}.main{display:grid;grid-template-columns:repeat(3,1fr);justify-content:space-evenly;align-items:center}@media (max-width: 800px){.main{display:flex;justify-content:center;flex-direction:column;gap:24px}}.center{display:flex;flex-direction:column;justify-content:center;align-items:center}#button-container{display:grid;grid-template-columns:repeat(3,1fr);grid-template-rows:repeat(2,var(--button-size));gap:10px;width:calc(var(--button-size) * 3)}.direction-button{width:100px;height:100px;background-color:#ffffff10;border-radius:6px}@keyframes active-animation{0%{background-color:#fff}to{background-color:#ffffff50}}.active{background-color:#ffffff50;animation-name:active-animation;animation-duration:.5s}#up{grid-column-start:2}#left,#down,#right{grid-row-start:2}table{border-collapse:collapse;font-size:.8rem}th,td{border:1px solid #ffffff;padding:10px}th{background-color:#1e1e1e}tr:nth-child(2n){background-color:#1f1f1f}tr:nth-child(odd){background-color:#2a2a2a}tr:hover{background-color:#333}
</style>
  </head>
  <body>
    <div id="login-container">
      <div>
        <input type="password" id="password" />
        <button id="login">Login</button>
      </div>
      <div id="error-message"></div>
    </div>

    <div id="interface" style="display: none">
      <marquee behavior="scroll" direction="left" scrollamount="10">
        © 2024 Otto Roming
      </marquee>
      <h1>Otto's interface</h1>
      <div class="main">
        <aside id="_10dof" class="center">
          <table>
            <thead>
              <tr>
                <th>Measurement</th>
                <th>Value</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <th>gyro x</th>
                <td id="gyro-x"></td>
              </tr>
              <tr>
                <th>gyro y</th>
                <td id="gyro-y"></td>
              </tr>
              <tr>
                <th>gyro z</th>
                <td id="gyro-z"></td>
              </tr>
            </tbody>
          </table>
        </aside>
        <div class="center">
          <div id="button-container">
            <div class="direction-button" id="up"></div>
            <div></div>
            <div class="direction-button" id="left"></div>
            <div></div>
            <div class="direction-button" id="down"></div>
            <div class="direction-button" id="right"></div>
          </div>
        </div>
        <aside class="center">
          <table>
            <thead>
              <tr>
                <th>ai response</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td id="ai-response"></td>
              </tr>
            </tbody>
          </table>
        </aside>
      </div>
      <p id="ws-status-container">
        Last sent command: <strong id="last-command">none</strong><br />
        WebSocket: <strong id="ws-status">closed</strong><br />
      </p>
      <div>
        <div id="ai-info">no ai</div>
        <input id="ai-slider" type="range" min="0" max="3" value="0" />
      </div>
      <br />
      <!-- <input type="text" placeholder="192.168.1.2" id="ws-ip-input"> -->
      <button id="ws-button">connect</button>
      <br />
      <button id="stop">stop</button>
    </div>
  </body>
</html>

)=====";
